@@ -2,7 +2,7 @@
 <%! page_title = "Auditing" %>
 
 <%namespace name="csrf" file="csrf.mako"/>
-<%namespace name="bootstrap" file="bootstrap.mako"/>
+<%namespace name="loader" file="loader.mako"/>
 <%namespace name="spinner" file="spinner.mako"/>
 <%namespace name="progress_modal" file="progress_modal.mako"/>
 
@@ -120,7 +120,7 @@
 </%progress_modal:html>
 
 <%block name="scripts">
-    <%bootstrap:scripts/>
+    <%loader:scripts/>
     <%spinner:scripts/>
     <%progress_modal:scripts/>
     <script>
@@ -143,11 +143,12 @@
 
         function restartServices() {
             var $progress = $('#${progress_modal.id()}');
-            runBootstrapTask('restart-services-for-auditing', function() {
+            reboot('current', function() {
                 $progress.modal('hide');
                 showSuccessMessage('New configuration is saved.');
-            }, function() {
+            }, function(xhr) {
                 $progress.modal('hide');
+                showErrorMessageFromResponse(xhr);
             });
         }
 
