//-----------------------------------------------------------------------------
// Copyright (c) Air Computing Inc., 2014.
//-----------------------------------------------------------------------------

base {
    archivesName = 'aero-polaris'
}

dependencies {
    implementation 'org.flywaydb:flyway-core:3.0'
    implementation 'org.apache.httpcomponents:httpclient:4.4'
    implementation 'javax.ws.rs:javax.ws.rs-api:2.0.1'
    implementation project(':src:aero-ids')
    implementation project(':src:aero-auth')
    implementation project(':src:polaris-api')
    implementation project(':src:baseline-service')
    implementation project(':src:baseline-db')
    runtimeOnly 'mysql:mysql-connector-java:5.1.39'
    testImplementation project(':src:lib')
    testImplementation project(':src:bifrost')
    testImplementation project(path: ':src:bifrost', configuration: 'testutil')
    testImplementation project(path: ':src:lib', configuration: 'testutil')
    testImplementation 'com.jayway.restassured:rest-assured:2.8.0'
    testImplementation 'org.mockito:mockito-core:1.10.19'
    testImplementation project(':src:baseline-testlib')
}

jar {
    manifest {
        attributes(
                'Main-Class': 'com.aerofs.polaris.Polaris',
                'Class-Path': configurations.runtimeClasspath.collect { it.getName() }.join(' ')
        )
    }
}
