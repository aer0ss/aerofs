<div id="breadcrumb-and-actions">
  <div id="actions">
    <span aero-file-upload class="btn btn-primary" id="upload-file"></span>
    <button type="button" class="btn btn-default" id="new-folder" ng-click="newFolder.hidden=false">New Folder</button>
  </div>

  <div class="row">
    <ul class="breadcrumb">
        <li ng-if="currentFolder.id == 'root'" class="active">My Files</li>
        <li ng-if="currentFolder.id != 'root'"><a href="#/root">My Files</a></li>

        <li ng-repeat="folder in breadcrumbs">
          <a href="#/{{folder.id}}">{{folder.name}}</a>
        </li>

        <li ng-if="currentFolder.id != 'root'" class="active">
          {{currentFolder.name}}
        </li>
    </ul>
  </div>
</div>

<div id="file-list">
  <div class="row file-list-head">
    <div class="col-sm-6">
      <div class="icon">&nbsp;
      </div>
      <div class="name">
        Name
      </div>
    </div>
    <div class="col-sm-3 last-modified">
      Last modified
    </div>
    <div class="col-sm-3 actions">
    </div>
  </div>
  <div class="file-list-body">
      <div class="my-row row" ng-if="!newFolder.hidden" id="new-folder">
        <div class="col-sm-6">
          <div class="icon"><img src="/static/shelob/img/icons/40x40/filetype_folder.png"></div>
          <div class="name">
            <input in-place-edit
              type="text"
              ng-model="newFolder.name"
              focus-on="!newFolder.hidden"
              on-submit="submitNewFolder()"
              on-cancel="cancelNewFolder()"
              ng-disabled="outstandingRequests > 0"
            />
          </div>
        </div>
        <div class="col-sm-3 last-modified">--</div>
        <div class="col-sm-3 actions"></div>
      </div>

      <div class="my-row row" ng-if="!objects.length">
        <div class="col-sm-12">
          <div class='icon'>&nbsp;</div>
          No files found
        </div>
      </div>

      <div class="my-row row" ng-repeat="object in objects | orderBy:['-type', 'name']">
        <div class="col-sm-6">
          <div class="icon">
            <img ng-if="object.type == 'folder' && !object.is_shared" src="/static/shelob/img/icons/40x40/filetype_folder.png">
            <img ng-if="object.type == 'folder' && object.is_shared" src="/static/shelob/img/icons/40x40/filetype_shared_folder.png">
            <div ng-if="object.type == 'file'" aero-icon data-mime-type={{object.mime_type}}></div>
          </div>
          <div class="name">
            <a ng-if="object.type === 'folder'" ng-hide="object.edit" ng-href="#/{{object.id}}">{{object.name}}</a>
            <a ng-if="object.type === 'file' && object.size > 0" ng-hide="object.edit" ng-click="download(object.id)">{{object.name}}</a>
            <span ng-if="object.type === 'file' && (object.size === undefined || object.size === null || object.size === 0 || object.size === -1)">{{object.name}}</span>
            <input in-place-edit
                   ng-show="object.edit"
                   type="text"
                   ng-model="object.newName"
                   focus-on="object.edit"
                   on-submit="submitRename(object)"
                   on-cancel="cancelRename(object)"
                   ng-disabled="outstandingRequests > 0"/>
          </div>
        </div>
        <div class="col-sm-3 last-modified">{{object.last_modified | date: 'short'}}</div>
        <div class="col-sm-3 actions">
          <div class="pull-right">
            <div class="btn-group">
              <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                Actions <span class="caret"></span>
              </button>
              <ul class="dropdown-menu pull-right" role="menu">
                <li><a
                   ng-click="startRename(object)"
                   class="edit action action-rename"><span class="glyphicon glyphicon-pencil"></span> Rename</a></li>
                <li><a
                   ng-click="startMove(object)"
                   class="redo action action-move"><span class="glyphicon glyphicon-arrow-right"></span> Move</a></li>
                <li><a ng-href="/shared_folders" ng-show="object.is_shared"
                   class="action action-manage"><span class="glyphicon glyphicon-share"></span> Manage Sharing</a></li>
                <li class="divider"></li>
                <li><a
                   ng-click="startDelete(object)"
                   class="remove_2 action action-delete"><span class="glyphicon glyphicon-trash"></span> Delete</a></li>
              </ul>
            </div>
          </div>
        </div>
      </tr>

  </div>
</div>
