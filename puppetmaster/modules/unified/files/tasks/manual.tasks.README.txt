browser-cert-pull and nginx_restart must go last. The reasoning is as follows:

o During the bootstrap process, frontend JavaSript in apply_and_create_user_page.mako polls
  an URL on the Pyramid server to wait for bootstrap to complete.

o If the user has uploaded a new browser certificate, after nginx restarts, the JavaScript
  will no longer be able to poll the URL as the browser will block responses with invalid certs
  (either because of mismatching hostnames or self-signed certs).

o If the JavaScript can't poll the URL, it can't tell when bootstrap completes, either.

o By placing browser-cert-pull and nginx_restart as the last two steps, the JS
  will know that once polling starts to fail, bootstrap will be done very soon.
  Then it will wait for couple of seconds before proceeding.

See comments in the JavaScript code for more information.

