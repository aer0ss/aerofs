# Dryad

The Dryad Server is a simple, RESTful log repository service. This document describes the Dryad REST
API.

## Upload logs

### Appliance Logs

Definition: PUT /defects/{defect_id}/appliance

* defect_id: Defect ID (string). The defect ID is generated by the client and the server makes no attempt to sanitize or validate the ID. It's solely the client's responsibility to avoid collision.
* overwrites the existing content to this resource, if any.

Example:

    curl --include --request PUT \
        --insecure \
        --header "Content-Type:application/octet-stream" \
        --data-binary @test.tar.gz \
        https://dryad.aerofs.com/v1.0/defects/00000000000000000000000000000000/appliance

### Client Defect Logs

Definition: PUT /defects/{defect_id}/client/{user_id}/{device_id}

* defect_id: Defect ID (string). The defect ID is generated by the client and the server makes no attempt to sanitize or validate the ID. It's solely the client's responsibility to avoid collision.
* user_id: User email address (string).
* device_id: Unique device ID (hex string).
* overwrites the existing content to this resource, if any.

Example:

    curl --include --request PUT \
        --insecure \
        --header "Content-Type:application/octet-stream" \
        --data-binary @test.tar.gz \
        https://dryad.aerofs.com/v1.0/defects/00000000000000000000000000000000/client/alex@aerofs.com/00000000000000000000000000000000

### Archived Client Logs

Definition: PUT /archived/{user_id}/{device_id}/{filename}

* user_id: User email address (string).
* device_id: Unique device ID (hex string).
* filename: client-supplied filename (string).
* overwrites the existing content to this resource, if any.

Example:

    curl --include --request PUT \
        --insecure \
        --header "Content-Type:application/octet-stream" \
        --data-binary @test.tar.gz \
        https://dryad.aerofs.com/v1.0/archived/alex@aerofs.com/00000000000000000000000000000000/2014-07-14.zip
