# Aero Chat Milestones and Feature Spec

### Vocabulary:
**"Conversation"**: 
	A single chat or a channel, which has messages to and from two or more people in it. Appears in the list of conversations (exact UI TBD).

**"1:1 conversation"**: 
	Equivalent to Direct Messages, a conversation with only one other person. The conversation's name is the name of the other person in the conversation.

**"Multi-person conversation"**: 
	Similar to Channels, a named conversation with two or more people who can read and send messages. The conversation's name may be autogenerated or set/edited by any conversation participant (for now). By default, a person must be invited to the multi-person conversation to join it; they aren't viewable or joinable by people who are not already members unless explicitly set to be public. 

## Aero Chat 0.1 (AeroIM)

Once these steps are done, we can use it internally for 1:1 chat.

* Can make 1:1 conversations, send and receive messages, on web and mobile (iOS/Android)
* User is notified when new messages come in on web and mobile
* User can set notification settings on web
* UI indicates which conversations have new/unread messages
* Unread state is captured server side (and persisted between clients)
* Can set and change one's avatar picture on web and mobile
* Can make a conversation with an ad hoc set of individuals (private multi-person conversation)
* Can send a message to a multi-person conversation
* Can receive notifications for new messages in a multi-person conversation (with same unread handling as 1:1 conversations)
* Web client works on modern Chrome and Firefox.

## Aero Chat 0.2

Once these steps are done, we will replace our use of Slack with Aero Chat. We will also start showing it to friendly companies.

* Some sort of sensible conversation list ordering, 
  * TBD (highlighted, unread, most-often-read? Is there user-initiated leaving or hiding of conversations?)
* Multi-person conversations have an autogenerated heroku-esque name on creation/by default
	* https://stackoverflow.com/questions/7621341/how-can-i-programmatically-generate-heroku-like-subdomain-names
  * Check for name collisions
* Can change a multi-person conversation's name to any name not already taken
* Can make a multi-person conversation publicly findable and joinable
* Can make a multi-person conversation private (have to invite people, can't join of own accord) after creation
* Conversation switcher/finder with autocomplete
* Can invite people to a multi-person conversation after creation
* Can see who is in a multi-person conversation via the conversation view 
  * (next to invite UI?)
* Can see who is in a multi-person conversation from the conversation list view
* Drag and drop uploads--saves file "somewhere" and generates a link
  * Since we start from file sync and share, this seems like a feature we ought to have at the beginning and do better than Slack.

## Aero Chat 0.5

Once these steps are done, we can actually let friendly companies buy it/use it.

* Signup talks to SP somehow without having the flow suck any more for the user.
  * Handling the 31st-user case.
* Works on the private cloud


## Aero Chat 1.0:

Once these steps are complete and feedback from the previous iteration is addressed, we make the product public.

Sub-iterations/releases of some of these features to our friendly customers are likely to occur prior to 1.0. TBD.

* Package web app as desktop app. Further features should work on both.
  * The desktop app is what we offer for Internet Explorer-only offices. If the web client works on new versions of IE, awesome, but it is not a priority.
* Can edit or delete sent messages
* Detect URLs and turn them into clickable links
* Mobile client detects phone numbers and makes them clickable (to call)
  * This is a differentiating feature.
* Mobile client detects addresses and makes them clickable (to map)
  * This is a differentiating feature.
* Support for bold, italic, quoting, pre markup
* Can @highlight individuals within a multi-person conversation
  * Highlighting UI offers autocomplete (using both first/last name and highlight name)
  * Default @highlight nickname generated from user's name/info we already have
* User can set a custom @highlight nickname
* "Muting" conversations 
  * (don't make convo appear unread in list when there are new messages unless user is explicitly highlighted)
* "Combined scrollback" view on mobile (perhaps web/desktop as well)
  * All messages appear in a single view as they come in, annotated w. convo name
  * This is a differentiating feature.
* Finesse on UI animations
  * New messages appearing, menus appearing/disappearing, etc.
* Non-terrible email digests
  * Only sent if you're not viewing Aero Chat messages, batched smartly
* Can start a conversation with email address not already using AeroFS or in contacts
  * Invite email + emails batching subsequent chat content
  * Optional: Replies to email go to conversation (!)
  * This is a differentiating feature.
* Search across conversations
  * Show a few messages above and below hit for context
* Batching/pagination for messages
  * Only load the latest 100 messages per conversation at a time
  * Scrolling up far enough triggers downloading next past batch of messages


## Optional Aero Chat features for the hazy someday

* Status messages (AIM-style customizable text + green/yellow/red)?
  * And/or "Focus mode" that stops mobile notifications, enqueues messages to appear later, has to be explicitly overwritten for a PM to go through. Maybe with a timeout? (so messaging will go back to normal in e.g. an hour)
* Flow for "forking" a 1:1 conversation from a certain timestamp onward into a multi-person chat
* User can set custom highlight strings, besides @-based highlight
* Accurate unread tracking, beyond simply whether the conversation has been opened on any client since new messages came in (scroll tracking and the little unread bar)
* Expanding links to uploads for preview (if they're a supported media type)
  images, animated .gif, sound files, video files, .txt, .md
* Support for /me
* Smilies and emoji?
  * They have to look good. Keep it simple and classy. No dumb memes.
  * Or maybe everyone should just rely on emoticons and ASCII art like back in the day, uphill both ways in the snow
* Expanding links to images for preview
* Expanding links to youtube videos for preview 
* Trying to create summaries for links generally
* Setting to not auto-expand linked content
* Can install and authenticate on Aero Chat mobile via QR code on website or desktop app
* Search results will let you click through to the actual message in context (by loading enough history in the given conversation, switching to that conversation, and scrolling)