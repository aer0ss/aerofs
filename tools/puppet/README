--------------------------------------------------------------------------------
VM Setup
--------------------------------------------------------------------------------

Prepare sensitive files and data:
    1)  In <repo>/puppetmaster/local/hieradata we have a bunch of yaml files.
        Most of this information is currently dummy info. If you require
        anything to actually be set during deployment, do so here. Just replace
        any values you need updated in either users.yaml, common.yaml, or the
        yaml file for the hostname you are deploying.
    2)  In <repo>/puppetmaster/local/aerofs we have a bunch of certs and keys
        and stuff. The certs at this location in the repo are useless. Whatever
        certs and keys you need should replace these files before deployment. If
        you forget you can just fix these files on the deployed machine.

Prepare VMs:
    1)  Install Ubuntu 12.04
    2)  apt-get update
    3)  install openssh-server
    4)  copy public key (in this directory) to VMs /root/.ssh/authorized_keys
    5)  set the hostname on the Agent (the machine being deployed) as though it
        were in production. (eg sss.aerofs.com)

Set up Master (will update if already set up):
    ./deploy_vm_master <master ip>

Set up Agent:
    ./deploy_vm_agent <master ip> <agent ip>

Test puppet script (on the agent and the master):
    puppet agent -t --server=<master hostname>

Notes:

1.  You must use the actual hostname of the master when calling puppet agent.
    The vm should have an entry in hosts (created during deploy_vm_master)

--------------------------------------------------------------------------------
Amazon Setup
--------------------------------------------------------------------------------

Steps for setting up a new puppetized server:
    1)  Set the hostname appropriately as per the node configurations in git.
    2)  On the puppet agent, install puppet via apt-get install and run the
        following:

        puppet agent -t --pluginsync

    3)  On the puppet master, run:

        puppetca --sign <hostname>

        Where <hostname> is replaced by the hostname of the puppetized box that
        you are currently setting up.

    4)  Run the puppet agent command again to complete setup.

Note that if you are setting up a CI server, you will need to fix up
/etc/resolv.conf as well.
