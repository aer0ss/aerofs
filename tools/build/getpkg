#!/bin/bash

# check number of arguments

NUM_ARGS=2 # 1) PROD or STAGING 2) LINUX, WIN, MAC

if [ $# -ne $NUM_ARGS ]
then
    echo "Usage: `basename $0` PROD|STAGING LINUX|MAC|WIN"
    exit 1
fi

# check for the exact url

PROD_BASE_URL="https://www.aerofs.com/downloads/"
STAGING_BASE_URL="https://www.aerofs.com/staging/downloads/"

case "$1" in
PROD)    URL="$PROD_BASE_URL"
         ;;
STAGING) URL="$STAGING_BASE_URL"
         ;;
*)       echo "Bad deployment name"
         exit 1
         ;;
esac

# check for the platform type

LINUX_PKG_NAME=aerofs-installer.deb
WIN_PKG_NAME=AeroFSInstall.exe
MAC_PKG_NAME=AeroFSInstaller.dmg

case "$2" in
LINUX) URL="$URL$LINUX_PKG_NAME"
       ;;
MAC)   URL="$URL$MAC_PKG_NAME"
       ;;
WIN)   URL="$URL$WIN_PKG_NAME"
       ;;
*)     echo "Bad platform name"
       exit 1
       ;;
esac

# download the package

echo
echo "================================================================================"
echo
echo "Downloading $1 installation package for $2 ..."
echo
echo "================================================================================"
echo

wget --no-check-certificate $URL
